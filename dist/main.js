!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=2)}([,,function(e,t,a){a(3),a(4),a(5),a(6),a(7),a(8),e.exports=a(9)},function(e,t){function a(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"bodyAddClass",value:function(e){return this.mutation({bodyAddClass:{__args:{class:e}}})}},{key:"bodyRemoveClass",value:function(e){return this.mutation({bodyRemoveClass:{__args:{class:e}}})}},{key:"mutation",value:function(e){return Vue.gql.mutation("api",e)}},{key:"query",value:function(e){return Vue.gql.query("api",e)}}])&&a(t.prototype,n),r&&a(t,r),e}();window.api=new n},function(e,t){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"use strict";var t=e(".control-sidebar"),n=e("<div />",{class:"p-3 control-sidebar-content"});t.append(n);var r=["navbar-primary","navbar-secondary","navbar-info","navbar-success","navbar-danger","navbar-indigo","navbar-purple","navbar-pink","navbar-teal","navbar-cyan","navbar-dark","navbar-gray-dark","navbar-gray"];n.append('<h5>Customize</h5><hr class="mb-2"/>');var i=e("<input />",{type:"checkbox",value:1,checked:e("body").hasClass("text-sm"),class:"mr-1"}).on("click",(function(){e(this).is(":checked")?(e("body").addClass("text-sm"),api.bodyAddClass("text-sm")):(e("body").removeClass("text-sm"),api.bodyRemoveClass("text-sm"))})),o=e("<div />",{class:"mb-1"}).append(i).append("<span>Body small text</span>");n.append(o),n.append("<h6>Navbar Variants</h6>");var s=e("<div />",{class:"d-flex"}),l=r.concat(["navbar-light","navbar-warning","navbar-white","navbar-orange"]),u=f(l,(function(t){var a=e(this).data("color"),n=e(".main-header");n.removeClass("navbar-dark").removeClass("navbar-light"),l.map((function(e){n.removeClass(e)}));var i="";r.indexOf(a)>-1?(n.addClass("navbar-dark"),i="navbar-dark"):(n.addClass("navbar-light"),i="navbar-light"),n.addClass(a),i+=" "+a,window.Vue.gql.mutation("api",{mainHeader:{__args:{class:i}}})}));s.append(u),n.append(s);var c=["bg-primary","bg-warning","bg-info","bg-danger","bg-success","bg-indigo","bg-navy","bg-purple","bg-fuchsia","bg-pink","bg-maroon","bg-orange","bg-lime","bg-teal","bg-olive"],d=["sidebar-dark-primary","sidebar-dark-warning","sidebar-dark-info","sidebar-dark-danger","sidebar-dark-success","sidebar-dark-indigo","sidebar-dark-navy","sidebar-dark-purple","sidebar-dark-fuchsia","sidebar-dark-pink","sidebar-dark-maroon","sidebar-dark-orange","sidebar-dark-lime","sidebar-dark-teal","sidebar-dark-olive","sidebar-light-primary","sidebar-light-warning","sidebar-light-info","sidebar-light-danger","sidebar-light-success","sidebar-light-indigo","sidebar-light-navy","sidebar-light-purple","sidebar-light-fuchsia","sidebar-light-pink","sidebar-light-maroon","sidebar-light-orange","sidebar-light-lime","sidebar-light-teal","sidebar-light-olive"];n.append("<h6>Dark Sidebar Variants</h6>");var b=e("<div />",{class:"d-flex"});n.append(b),n.append(f(c,(function(){var t="sidebar-dark-"+e(this).data("color").replace("bg-",""),a=e(".main-sidebar");d.map((function(e){a.removeClass(e)})),a.addClass(t),Vue.gql.mutation("api",{sidebar:{__args:{class:t}}})}))),n.append("<h6>Light Sidebar Variants</h6>");b=e("<div />",{class:"d-flex"});n.append(b),n.append(f(c,(function(){var t="sidebar-light-"+e(this).data("color").replace("bg-",""),a=e(".main-sidebar");d.map((function(e){a.removeClass(e)})),a.addClass(t),Vue.gql.mutation("api",{sidebar:{__args:{class:t}}})})));function f(t,n){var r=e("<div />",{class:"d-flex flex-wrap mb-3"});return t.map((function(t){var i=e("<div />",{class:("object"===a(t)?t.join(" "):t).replace("navbar-","bg-").replace("accent-","bg-")+" elevation-2"});r.append(i),i.data("color",t),i.css({width:"40px",height:"20px",borderRadius:"25px",marginRight:10,marginBottom:10,opacity:.8,cursor:"pointer"}),i.hover((function(){e(this).css({opacity:1}).removeClass("elevation-2").addClass("elevation-4")}),(function(){e(this).css({opacity:.8}).removeClass("elevation-4").addClass("elevation-2")})),n&&i.on("click",n)})),r}}(jQuery)},function(e,t){Vue.component("nav-item",{template:'\n        <li class="has-treeview" :class="getClass">\n            <a :href="menu.link" class="nav-link" :class="{active:isActive}">\n                <i class="nav-icon" :class="menu.icon"></i>\n                <p>\n                    {{menu.label}}\n                    <i v-if="menu.submenu" class="right fas fa-angle-left"></i>\n                </p>\n            </a>\n            <ul v-if="menus.submenu" class="nav nav-treeview">\n                <li class="nav-item" v-for="(sub,index) in menus.submenu" is="nav-item" :menu="sub" :key="index"></li>\n            </ul>\n        </li>\n        ',props:{menu:Object,isRoot:Boolean},data:function(){return{q:""}},mounted:function(){},computed:{getClass:function(){var e={"menu-open":this.menu.active};return""!=this.q&&this.menu.keyword.toLowerCase().indexOf(this.q.toLowerCase())<0&&0==this.menus.submenu.length&&(e["d-none"]=!0),e},isActive:function(){return!(!this.isRoot||!this.menu.active)||!this.menu.submenu&&this.menu.active},menus:function(){return""==this.q?this.menu:(this.menu.submenu=this.filterMenu(this.q.toLowerCase(),this.menu.submenu),this.menu)}},methods:{filterMenu:function(e,t){var a=[];for(var n in t)t[n].keyword.toLowerCase().indexOf(e.toLowerCase())>=0?a.push(t[n]):(t[n].submenu=this.filterMenu(e,t[n].submenu),t[n].submenu.length>0&&a.push(t[n]));return a}}}),window.sidebar=new Vue({el:"#nav-sidebar",data:{q:""},watch:{q:function(){var e=this;this.$children.forEach((function(t){t.q=e.q}))}}})},function(e,t){$((function(){function e(e){this._current_xhr=null,this._tab_timer=null;var t=this;$o=$(e),$o.find('[data-toggle="tabajax"]').click((function(e){clearTimeout(t._tab_timer),t._current_xhr&&t._current_xhr.abort();var a=$(this),n=a.attr("href"),r=a.attr("data-target"),i=a.closest(".my_tab").attr("data-cookie"),o=a.closest("li").attr("data-timer");return o||$(r).html('<div class="overlay"><i class="fas fa-2x fa-sync-alt fa-spin"></i></div>'),t._current_xhr=$.get(n,(function(e){$(r).html(e),localStorage.setItem(i+"-tab",r),null!=o&&(_tab_timer=setTimeout((function(){a.trigger("click")}),parseInt(o)))})).fail((function(){$(r).html("error when loading this page")})),a.tab("show"),!1}));var a=$(e).attr("data-cookie"),n=localStorage.getItem(a+"-tab");null!=n&&$(e).find("a[data-target='"+n+"']").length>0?$(e).find("a[data-target='"+n+"']").trigger("click"):$(e).find("a[data-target]:first").trigger("click"),$(e).find("a[data-toggle]").on("shown.bs.tab",(function(e){var t=e.relatedTarget;if("tabajax"==t.getAttribute("data-toggle")){var a=t.getAttribute("data-target");$(a).empty()}}))}var t=function(){$("div.my_tab").each((function(t,a){$(a).data("mytab")||$(a).data("mytab",new e(a))}))};t(),$(document).ajaxComplete((function(){setTimeout(t,0)}))}))},function(e,t){$.validator.setDefaults({ignore:[],highlight:function(e){},unhighlight:function(e){},errorElement:"div",errorClass:"invalid-feedback",errorPlacement:function(e,t){e.insertAfter(t)}}),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("form");Array.prototype.filter.call(e,(function(e){$(e).validate(),e.addEventListener("submit",(function(t){!1===e.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")}),!1)}))})),window.__add_favorite=function(){var e,t;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(null==(e=prompt("請輸入標籤",window.document.title))||""==e){a.next=10;break}return a.next=4,regeneratorRuntime.awrap(Vue.gql.mutation("api",{addFavorite:{__args:{label:e,link:self.location.pathname+self.location.search}}}));case 4:if(!(t=(t=a.sent).data).error){a.next=9;break}return alert(t.error.message),a.abrupt("return");case 9:window.self.location.reload();case 10:case"end":return a.stop()}}))}},function(e,t){!function(){var e=function(e){var t=e.getAttribute("confirm-msg");null==t&&(t="Are you sure?"),e.classList.remove("confirm"),e.classList.add("_confirm"),e.addEventListener("click",(function(e){confirm(t)||e.preventDefault()}))};setTimeout((function(){document.querySelectorAll(".confirm").forEach(e)}));new MutationObserver((function(t){setTimeout((function(){document.querySelectorAll(".confirm").forEach(e)}))})).observe(document.body,{attributes:!0,childList:!0,subtree:!0})}()},function(e,t){function a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}window.VueDialog=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.options=t,this.vm=""}var t,a,r;return t=e,(a=[{key:"open",value:function(){var e=this,t="_bootbox-"+(new Date).getTime();this.options.buttons.submit.callback.bind(this.vm);var a=document.createElement("div");a.id=t,a.innerHTML=this.options.el.innerHTML;var r=Object.assign({},n({},this.options,{},{el:a}));this.vm=new Vue(r),r.init&&(r.init=r.init.bind(this.vm));var i={message:"<div></div>",centerVertical:!0,show:!1,scrollable:!0};if((i=n({},i,{},this.options)).buttons)for(var o in i.buttons){var s=i.buttons[o];console.log(s),s instanceof Function?s=s.bind(this.vm):s.callback&&(s.callback=s.callback.bind(this.vm))}this.box=bootbox.dialog(i),this.box.on("shown.bs.modal",(function(){e.box.find(".bootbox-body").append(e.vm.$el),r.init&&r.init()})),this.box.modal("show")}},{key:"close",value:function(){this.box.modal("hide")}}])&&o(t.prototype,a),r&&o(t,r),e}()}]);